FormatVersion: OOS-2019-06-01
Description: Starts the ECS instances by specifying ECS instance IDs. The specified
  ECS instances should be in stopped status.
Parameters:
  instanceIds:
    Description: The ID list of the ECS instance.
    Type: List
  maxErrors:
    Description: The maximum number of errors allowed during task execution.
    Type: Number
    Default: 0
  concurrency:
    Description: Concurrency ratio of task execution.
    Type: Number
    Default: 1
  OOSAssumeRole:
    Description: The RAM role to be assumed by OOS.
    Type: String
    Default: OOSServiceRole
RamRole: '{{ OOSAssumeRole }}'
Tasks:
- Name: startInstances
  Action: ACS::ECS::StartInstance
  Description: Starts the ECS instance by the instance ID.
  Properties:
    instanceId: '{{ ACS::TaskLoopItem }}'
  Loop:
    MaxErrors: '{{ maxErrors }}'
    Concurrency: '{{ concurrency }}'
    Items: '{{ instanceIds }}'
